diff --git a/fs/proc/task_mmu.c b/fs/proc/task_mmu.c
index XXXXXXX..YYYYYYY 100644
--- a/fs/proc/task_mmu.c
+++ b/fs/proc/task_mmu.c
@@ -300,6 +300,18 @@ static int show_map_vma(struct seq_file *m, struct vm_area_struct *vma)
     if (file) {
         char *path;

+#ifdef CONFIG_KSU_SUSFS_SUS_KSTAT
+        if (likely(susfs_is_current_proc_umounted())) {
+            if (file->f_inode &&
+                (file->f_inode->i_mapping->flags & BIT_SUS_KSTAT)) {
+                seq_puts(m, "\n");
+                return 0;
+            }
+        }
+#endif
+
         path = d_path(&file->f_path, buf, PAGE_SIZE);
         if (!IS_ERR(path))
             seq_printf(m, "%s", path);
